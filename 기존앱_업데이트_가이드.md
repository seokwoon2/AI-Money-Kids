# 🔄 기존 배포된 앱 업데이트 방법

## 간단 요약
코드 수정 → GitHub 푸시 → 자동 재배포 완료!

---

## 업데이트 절차 (매우 간단!)

### 1단계: 코드 수정
- 파일을 수정합니다
- 예: `services/gemini_service.py`, `config.py` 등

### 2단계: 변경사항 커밋
터미널에서:
```powershell
# 변경된 파일 추가
git add .

# 커밋 (변경 내용 설명)
git commit -m "수정 내용 설명"
```

예시:
```powershell
git commit -m "Fix: Gemini API 연결 오류 수정"
```

### 3단계: GitHub에 푸시
```powershell
git push
```

### 4단계: 자동 재배포 확인
- Streamlit Cloud가 자동으로 감지합니다
- "Building..." 메시지가 나타납니다
- 1-3분 후 업데이트 완료!

---

## Streamlit Cloud에서 확인하기

### 방법 1: 앱 페이지에서 확인
1. Streamlit Cloud 대시보드 접속: https://share.streamlit.io
2. 배포된 앱 클릭
3. "Activity" 또는 "활동" 탭 확인
4. 최근 배포 내역 확인

### 방법 2: 앱 URL에서 확인
- 앱 URL로 접속: `https://your-app-name.streamlit.app`
- 변경사항이 반영되었는지 확인

---

## 현재 상태 확인

### 로컬 변경사항 확인
```powershell
git status
```

### 푸시 안 된 커밋 확인
```powershell
git log origin/main..HEAD
```

### GitHub에 푸시
```powershell
git push
```

---

## 자동 재배포가 안 될 때

### 1. 수동 재시작
1. Streamlit Cloud 대시보드 접속
2. 앱 클릭
3. ⚙️ 아이콘 → Settings
4. "Reboot app" 또는 "앱 재시작" 클릭

### 2. 배포 설정 확인
1. Settings → "General" 탭
2. "Auto-reload" 옵션이 켜져 있는지 확인

### 3. 로그 확인
1. Settings → "Logs" 탭
2. 오류 메시지 확인

---

## 빠른 업데이트 명령어

### 모든 변경사항 한 번에 업데이트
```powershell
git add .
git commit -m "Update: 변경 내용"
git push
```

### 특정 파일만 업데이트
```powershell
git add services/gemini_service.py config.py
git commit -m "Fix: API 설정 수정"
git push
```

---

## ⚠️ 주의사항

1. **Secrets는 자동 업데이트 안 됨**
   - API 키 변경 시 Streamlit Cloud Settings → Secrets에서 수동 수정 필요

2. **requirements.txt 변경 시**
   - 자동으로 재배포되지만 패키지 설치에 시간이 걸릴 수 있음

3. **데이터베이스 파일**
   - `.db` 파일은 Git에 포함되지 않음
   - Streamlit Cloud는 임시 저장소 사용 (재시작 시 초기화됨)

---

## 체크리스트

업데이트 전:
- [ ] 코드 수정 완료
- [ ] 로컬에서 테스트 완료

업데이트 중:
- [ ] `git add .` 실행
- [ ] `git commit -m "..."` 실행
- [ ] `git push` 실행

업데이트 후:
- [ ] Streamlit Cloud에서 재배포 확인
- [ ] 앱 URL에서 변경사항 확인
- [ ] 기능 테스트 완료

---

## 💡 팁

### 빠른 업데이트 스크립트
프로젝트 폴더에 `update.bat` 파일 생성:
```batch
@echo off
git add .
git commit -m "Update: %date% %time%"
git push
echo 업데이트 완료!
pause
```

사용법: `update.bat` 더블클릭
